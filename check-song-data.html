<!DOCTYPE html>
<html>
<head>
    <title>Check Song Data</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #00ff00;
        }
        .song {
            background: #2a2a2a;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #00ff00;
            border-radius: 5px;
        }
        .field {
            margin: 5px 0;
        }
        .missing {
            color: #ff0000;
        }
        .present {
            color: #00ff00;
        }
        button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üîç Firebase Song Data Checker</h1>
    <button onclick="checkSongs()">Check Songs Data</button>
    <div id="output"></div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, getDocs, limit, query } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBkpkvkV82ILc8R_BjDK9OBDPqDaCbM9lM",
            authDomain: "loveworld-singers-app.firebaseapp.com",
            projectId: "loveworld-singers-app",
            storageBucket: "loveworld-singers-app.firebasestorage.app",
            messagingSenderId: "155599595615",
            appId: "1:155599595615:web:f431ecd7276a22a33f53ea"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.checkSongs = async function() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>üîÑ Fetching songs...</p>';

            try {
                const q = query(collection(db, 'songs'), limit(10));
                const querySnapshot = await getDocs(q);

                let html = `<h2>üìä Found ${querySnapshot.docs.length} songs</h2>`;

                querySnapshot.docs.forEach((doc, index) => {
                    const data = doc.data();
                    const allFields = Object.keys(data).sort();

                    html += `
                        <div class="song">
                            <h3>üéµ Song ${index + 1}: ${data.title || 'NO TITLE'}</h3>
                            <div class="field">üìù Firebase ID: ${doc.id}</div>
                            
                            <h4>üé§ Personnel Fields:</h4>
                            <div class="field ${data.leadSinger ? 'present' : 'missing'}">
                                leadSinger: ${data.leadSinger || 'MISSING'}
                            </div>
                            <div class="field ${data.lead_singer ? 'present' : 'missing'}">
                                lead_singer: ${data.lead_singer || 'MISSING'}
                            </div>
                            <div class="field ${data.leadGuitarist ? 'present' : 'missing'}">
                                leadGuitarist: ${data.leadGuitarist || 'MISSING'}
                            </div>
                            <div class="field ${data.lead_guitarist ? 'present' : 'missing'}">
                                lead_guitarist: ${data.lead_guitarist || 'MISSING'}
                            </div>
                            <div class="field ${data.leadKeyboardist ? 'present' : 'missing'}">
                                leadKeyboardist: ${data.leadKeyboardist || 'MISSING'}
                            </div>
                            <div class="field ${data.lead_keyboardist ? 'present' : 'missing'}">
                                lead_keyboardist: ${data.lead_keyboardist || 'MISSING'}
                            </div>
                            <div class="field ${data.drummer ? 'present' : 'missing'}">
                                drummer: ${data.drummer || 'MISSING'}
                            </div>
                            
                            <h4>üéµ Audio Fields:</h4>
                            <div class="field ${data.audioFile ? 'present' : 'missing'}">
                                audioFile: ${data.audioFile ? 'EXISTS' : 'MISSING'}
                            </div>
                            <div class="field ${data.audiofile ? 'present' : 'missing'}">
                                audiofile: ${data.audiofile ? 'EXISTS' : 'MISSING'}
                            </div>
                            <div class="field ${data.audio_url ? 'present' : 'missing'}">
                                audio_url: ${data.audio_url ? 'EXISTS' : 'MISSING'}
                            </div>
                            
                            <h4>üìã All Fields (${allFields.length}):</h4>
                            <div class="field">${allFields.join(', ')}</div>
                        </div>
                    `;
                });

                output.innerHTML = html;
            } catch (error) {
                output.innerHTML = `<p class="missing">‚ùå Error: ${error.message}</p>`;
                console.error(error);
            }
        };
    </script>
</body>
</html>

